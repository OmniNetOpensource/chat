# AI Studio - æ™ºèƒ½å¯¹è¯å¹³å°

è¿™æ˜¯ä¸€ä¸ªåŸºäº Next.js 15ã€React 19ã€TypeScript å’Œ Tailwind CSS æ„å»ºçš„ç°ä»£åŒ– AI èŠå¤©åº”ç”¨ã€‚è¯¥åº”ç”¨æä¾›å¼ºå¤§çš„ AI å¯¹è¯åŠŸèƒ½ï¼Œæ”¯æŒå¤šæ¨¡æ€äº¤äº’ã€ç”¨æˆ·è®¤è¯ã€å¯¹è¯å†å²ç®¡ç†ç­‰ä¼ä¸šçº§åŠŸèƒ½ã€‚

![åº”ç”¨æˆªå›¾](public/chat.png)

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ’¬ **æ™ºèƒ½å¯¹è¯**: åŸºäºå…ˆè¿›çš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆGemini 2.5 Proï¼‰è¿›è¡Œè‡ªç„¶è¯­è¨€å¯¹è¯
- ğŸ§  **æ€ç»´é“¾æ˜¾ç¤º**: æ”¯æŒæ˜¾ç¤º AI çš„æ€è€ƒè¿‡ç¨‹ï¼Œæä¾›æ›´é€æ˜çš„æ¨ç†ä½“éªŒ
- ğŸ” **ç”¨æˆ·è®¤è¯**: é›†æˆ Google OAuth ç™»å½•ï¼Œå®‰å…¨å¯é 
- ğŸ“š **å¯¹è¯å†å²**: æŒä¹…åŒ–å­˜å‚¨ç”¨æˆ·å¯¹è¯è®°å½•ï¼Œæ”¯æŒå†å²å›é¡¾
- ğŸŒ“ **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæ˜æš—ä¸»é¢˜æ— ç¼åˆ‡æ¢
- ğŸ“± **å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- âœ¨ **å¯Œæ–‡æœ¬æ¸²æŸ“**: 
  - Markdown æ ¼å¼æ”¯æŒ
  - ä»£ç è¯­æ³•é«˜äº®æ˜¾ç¤º
  - æ•°å­¦å…¬å¼æ¸²æŸ“ï¼ˆKaTeXï¼‰
- ğŸ“‹ **äº¤äº’åŠŸèƒ½**: 
  - æ¶ˆæ¯å¤åˆ¶
  - é‡æ–°ç”Ÿæˆå›ç­”
  - å®æ—¶æµå¼è¾“å‡º
- ğŸ¨ **ç°ä»£ UI**: åŸºäº Tailwind CSS çš„ç²¾ç¾ç•Œé¢è®¾è®¡

## ğŸ›  æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 15 + React 19
- **å¼€å‘è¯­è¨€**: TypeScript
- **æ ·å¼æ–¹æ¡ˆ**: Tailwind CSS 4.x
- **çŠ¶æ€ç®¡ç†**: Zustand
- **æ•°æ®åº“**: PostgreSQL + Prisma ORM
- **ç”¨æˆ·è®¤è¯**: NextAuth.js v5 + Google OAuth
- **AI æœåŠ¡**: OpenRouter APIï¼ˆæ”¯æŒå¤šç§æ¨¡å‹ï¼‰
- **åŒ…ç®¡ç†å™¨**: pnpm
- **å¯Œæ–‡æœ¬æ¸²æŸ“**: marked + highlight.js + KaTeX
- **éƒ¨ç½²å¹³å°**: æ”¯æŒ Vercelã€Railway ç­‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ å‰ææ¡ä»¶

- Node.js (æ¨è v18+)
- pnpm
- PostgreSQL æ•°æ®åº“
- Google OAuth åº”ç”¨ï¼ˆç”¨äºè®¤è¯ï¼‰
- OpenRouter API å¯†é’¥

### ğŸ“¦ å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/chat.git
cd chat

# å®‰è£…ä¾èµ–
pnpm install
```

### âš™ï¸ ç¯å¢ƒé…ç½®

åˆ›å»º `.env.local` æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# æ•°æ®åº“é…ç½®
DATABASE_URL="postgresql://username:password@localhost:5432/chat_db"
DIRECT_URL="postgresql://username:password@localhost:5432/chat_db"

# AI API é…ç½®
API_KEY="your_openrouter_api_key"

# è®¤è¯é…ç½®
NEXTAUTH_SECRET="your_nextauth_secret_key"
NEXTAUTH_URL="http://localhost:3000"

# Google OAuth é…ç½®
GOOGLE_CLIENT_ID="your_google_client_id"
GOOGLE_CLIENT_SECRET="your_google_client_secret"
```

å‚è€ƒ `.env.example` æ–‡ä»¶è·å–å®Œæ•´çš„ç¯å¢ƒå˜é‡é…ç½®è¯´æ˜ã€‚

### ğŸ—„ï¸ æ•°æ®åº“è®¾ç½®

```bash
# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npx prisma generate

# è¿è¡Œæ•°æ®åº“è¿ç§»
npx prisma db push

# (å¯é€‰) æŸ¥çœ‹æ•°æ®åº“
npx prisma studio
```

### ğŸ”§ å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

åº”ç”¨å°†åœ¨ http://localhost:3000 ä¸Šè¿è¡Œã€‚

### ğŸ—ï¸ ç”Ÿäº§æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
chat/
â”œâ”€â”€ app/                           # Next.js 15 App Router
â”‚   â”œâ”€â”€ api/                       # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth/[...nextauth]/    # NextAuth.js è®¤è¯
â”‚   â”‚   â”œâ”€â”€ chat/                  # AI å¯¹è¯ API
â”‚   â”‚   â””â”€â”€ chat-history/          # å¯¹è¯å†å² API
â”‚   â”œâ”€â”€ c/[id]/                    # åŠ¨æ€èŠå¤©é¡µé¢
â”‚   â”œâ”€â”€ components/                # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Auth/                  # è®¤è¯ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Conversation/          # å¯¹è¯ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Sidebar/               # ä¾§è¾¹æ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Preview/               # æ¶ˆæ¯æ¸²æŸ“ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ lib/                       # å·¥å…·åº“å’ŒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ store/                 # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ hooks/                 # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ login/                     # ç™»å½•é¡µé¢
â”œâ”€â”€ prisma/                        # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ schema.prisma              # æ•°æ®åº“æ¨¡å¼
â”‚   â””â”€â”€ migrations/                # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”œâ”€â”€ public/                        # é™æ€èµ„æº
â””â”€â”€ ...
```

## ğŸ§© æ ¸å¿ƒç»„ä»¶

- **Main**: ä¸»åº”ç”¨ç•Œé¢å®¹å™¨
- **Conversation**: å¤„ç†ç”¨æˆ·ä¸ AI ä¹‹é—´çš„å¯¹è¯é€»è¾‘
- **MessageList**: æ¶ˆæ¯åˆ—è¡¨å±•ç¤ºå’Œç®¡ç†
- **ChatInput**: ç”¨æˆ·è¾“å…¥ç»„ä»¶
- **Preview**: Markdownã€ä»£ç å’Œæ•°å­¦å…¬å¼æ¸²æŸ“
- **Sidebar**: å¯¹è¯å†å²ç®¡ç†å’Œå¯¼èˆª
- **AuthProvider**: ç”¨æˆ·è®¤è¯çŠ¶æ€ç®¡ç†
- **ThemeProvider**: ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½

## ğŸš€ éƒ¨ç½²

### Vercel éƒ¨ç½²

1. Fork æœ¬ä»“åº“åˆ°ä½ çš„ GitHub è´¦å·
2. åœ¨ [Vercel](https://vercel.com) ä¸­å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå‚è€ƒä¸Šé¢çš„ç¯å¢ƒé…ç½®ï¼‰
4. éƒ¨ç½²å®Œæˆ

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t chat-app .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 --env-file .env.local chat-app
```

## ğŸ“– API æ–‡æ¡£

### å¯¹è¯æ¥å£
- `POST /api/chat` - å‘é€æ¶ˆæ¯åˆ° AI
- `GET /api/chat-history` - è·å–ç”¨æˆ·å¯¹è¯å†å²
- `POST /api/chat-history` - ä¿å­˜å¯¹è¯è®°å½•
- `DELETE /api/chat-history/[id]` - åˆ é™¤æŒ‡å®šå¯¹è¯

### è®¤è¯æ¥å£
- `GET /api/auth/signin` - ç™»å½•é¡µé¢
- `POST /api/auth/callback/google` - Google OAuth å›è°ƒ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ—“ï¸ å¼€å‘è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µ - æ ¸å¿ƒåŠŸèƒ½å¢å¼º (2-3å‘¨)

#### ğŸ¯ ä¼˜å…ˆçº§ï¼šé«˜
- [ ] **å¤šæ¨¡æ€æ”¯æŒ**
  - å›¾ç‰‡ä¸Šä¼ å’Œè¯†åˆ«åŠŸèƒ½
  - æ–‡æ¡£ä¸Šä¼ å’Œè§£æ (PDF, Word, TXT)
  - éŸ³é¢‘è¾“å…¥æ”¯æŒ
- [ ] **å¯¹è¯ç®¡ç†ä¼˜åŒ–**
  - å¯¹è¯æ ‡é¢˜è‡ªåŠ¨ç”Ÿæˆ
  - å¯¹è¯æœç´¢åŠŸèƒ½
  - å¯¹è¯å¯¼å‡ºåŠŸèƒ½ (Markdown, PDF)
- [ ] **ç”¨æˆ·ä½“éªŒæå‡**
  - æ¶ˆæ¯ç¼–è¾‘åŠŸèƒ½
  - æ¶ˆæ¯åˆ é™¤åŠŸèƒ½
  - å¿«æ·é”®æ”¯æŒ

#### ğŸ”§ ä¼˜å…ˆçº§ï¼šä¸­
- [ ] **æ€§èƒ½ä¼˜åŒ–**
  - è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ–é•¿å¯¹è¯
  - å›¾ç‰‡æ‡’åŠ è½½
  - ä»£ç å—æ€§èƒ½ä¼˜åŒ–
- [ ] **ç•Œé¢æ”¹è¿›**
  - æ¶ˆæ¯æ°”æ³¡æ ·å¼ä¼˜åŒ–
  - åŠ è½½åŠ¨ç”»æ”¹è¿›
  - ç§»åŠ¨ç«¯äº¤äº’ä¼˜åŒ–

### ç¬¬äºŒé˜¶æ®µ - é«˜çº§åŠŸèƒ½ (3-4å‘¨)

#### ğŸš€ æ–°åŠŸèƒ½å¼€å‘
- [ ] **AI åŠ©æ‰‹å®šåˆ¶**
  - è‡ªå®šä¹‰ AI è§’è‰²å’Œæç¤ºè¯
  - å¤šä¸ª AI æ¨¡å‹åˆ‡æ¢
  - æ¸©åº¦å’Œå…¶ä»–å‚æ•°è°ƒèŠ‚
- [ ] **åä½œåŠŸèƒ½**
  - å¯¹è¯åˆ†äº«åŠŸèƒ½
  - å›¢é˜Ÿå·¥ä½œç©ºé—´
  - æƒé™ç®¡ç†ç³»ç»Ÿ
- [ ] **æ’ä»¶ç³»ç»Ÿ**
  - ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ (GitHub, Notion)
  - è‡ªå®šä¹‰å·¥å…·è°ƒç”¨
  - API æ‰©å±•æ¥å£

#### ğŸ” å®‰å…¨å’Œç¨³å®šæ€§
- [ ] **ç”¨æˆ·ç®¡ç†**
  - ç”¨æˆ·é…ç½®æ–‡ä»¶
  - ä½¿ç”¨ç»Ÿè®¡å’Œé™é¢
  - æ•°æ®å¤‡ä»½å’Œæ¢å¤
- [ ] **å®‰å…¨å¢å¼º**
  - API é€Ÿç‡é™åˆ¶
  - å†…å®¹è¿‡æ»¤å’Œå®¡æ ¸
  - æ•°æ®åŠ å¯†å­˜å‚¨

### ç¬¬ä¸‰é˜¶æ®µ - ä¼ä¸šçº§åŠŸèƒ½ (4-5å‘¨)

#### ğŸ’¼ ä¼ä¸šç‰¹æ€§
- [ ] **ç®¡ç†åå°**
  - ç”¨æˆ·ç®¡ç†ç•Œé¢
  - ç³»ç»Ÿç›‘æ§é¢æ¿
  - ä½¿ç”¨ç»Ÿè®¡åˆ†æ
- [ ] **éƒ¨ç½²å’Œè¿ç»´**
  - Docker å®¹å™¨åŒ–å®Œå–„
  - CI/CD æµæ°´çº¿
  - ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ
- [ ] **å›½é™…åŒ–**
  - å¤šè¯­è¨€æ”¯æŒ
  - æœ¬åœ°åŒ–ç•Œé¢
  - æ—¶åŒºå¤„ç†

#### ğŸ¨ ç”¨æˆ·ç•Œé¢è¿›åŒ–
- [ ] **ä¸»é¢˜ç³»ç»Ÿ**
  - è‡ªå®šä¹‰ä¸»é¢˜åˆ›å»º
  - ä¸»é¢˜å•†åº—
  - åŠ¨æ€ä¸»é¢˜åˆ‡æ¢
- [ ] **ç§»åŠ¨åº”ç”¨**
  - PWA å®Œå–„
  - åŸç”Ÿç§»åŠ¨åº”ç”¨å¼€å‘
  - æ¨é€é€šçŸ¥æ”¯æŒ

### ğŸ’¡ æœªæ¥è§„åˆ’

- **AI å·¥ä½œæµ**: æ”¯æŒå¤æ‚çš„å¤šæ­¥éª¤ AI ä»»åŠ¡è‡ªåŠ¨åŒ–
- **çŸ¥è¯†åº“é›†æˆ**: æ”¯æŒå‘é‡æ•°æ®åº“å’Œ RAG åŠŸèƒ½
- **API å¼€æ”¾å¹³å°**: ä¸ºå¼€å‘è€…æä¾›å®Œæ•´çš„ API ç”Ÿæ€
- **ç¤¾åŒºåŠŸèƒ½**: ç”¨æˆ·äº¤æµã€æ¨¡æ¿åˆ†äº«ã€æ’ä»¶å¸‚åœº

---

> ğŸ“… **æ›´æ–°å‘¨æœŸ**: æ¯ä¸¤å‘¨è¿›è¡Œä¸€æ¬¡ç‰ˆæœ¬å‘å¸ƒ  
> ğŸ› **Bug ä¿®å¤**: æŒç»­è¿›è¡Œï¼Œé‡è¦é—®é¢˜24å°æ—¶å†…å“åº”  
> ğŸ’¬ **åé¦ˆæ¸ é“**: æ¬¢è¿åœ¨ [Issues](https://github.com/yourusername/chat/issues) ä¸­æä¾›å»ºè®®

## ğŸ™ è‡´è°¢

- [Next.js](https://nextjs.org/) - å¼ºå¤§çš„ React æ¡†æ¶
- [OpenRouter](https://openrouter.ai/) - AI æ¨¡å‹ API æœåŠ¡
- [Prisma](https://prisma.io/) - ç°ä»£æ•°æ®åº“å·¥å…·åŒ…
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
